function formatDate(n){var t=new Date(Date.parse(n)),i=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),u=t.getFullYear();return i+"/"+r+"/"+u}function formatDateTime(n){var t=new Date(Date.parse(n)),i=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),u=t.getFullYear(),f=String(t.getHours()).padStart(2,"0"),e=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0");return i+"/"+r+"/"+u+" "+f+":"+e+":"+o}function formatTime(n){var t=Math.floor(n/3600),i=Math.floor(n/60)%60,r=n%60;return t<10&&(t="0"+t),i<10&&(i="0"+i),r<10&&(r="0"+r),t+":"+i+":"+r}function formatNumber(n){return n=Math.round(parseFloat(n)),n.toLocaleString("en")}function isAuthenticated(){return $('[data-toggle="common-userId"]').length?!0:!1}$(".asyncPartial").each(function(n,t){var i=$(t).data("url");i&&i.length>0&&$(t).load(i,function(){})});$(function(){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-left",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};localStorage.getItem("IsSuccessed")!==null&&localStorage.getItem("Message")!==null&&(localStorage.getItem("IsSuccessed")=="true"?toastr.info(localStorage.getItem("Message")):toastr.error(localStorage.getItem("Message")),localStorage.clear())});$(document).on("submit",'form[data-name="ajaxForm"]',function(n){n.preventDefault();var t=$(this),i=t.find("button[type='submit']");i.attr("disabled","true");$.ajax({method:t.attr("method"),url:t.attr("action"),data:t.serializeArray(),beforeSend:function(){i.append(`<i class="fas fa-sync-alt fa-fw fa-spin ms-2"></i>`)},complete:function(){i.find("i").remove()},success:function(n){t.find(".field-validation-valid").empty();n.isSuccessed==!0?(localStorage.setItem("IsSuccessed",n.isSuccessed),n.message!=null?localStorage.setItem("Message",n.message):localStorage.setItem("Message","Successed!"),n.resultObj?window.location.href=n.resultObj:window.location.reload()):n.validationErrors!=null&&n.validationErrors.length?$.each(n.validationErrors,function(n,i){t.find("span[data-valmsg-for='"+i.pos+"']").html(i.error)}):n.message!=null&&toastr.error(n.message);i.removeAttr("disabled")}})});$(function(){$("select.form-control.select-picker").selectpicker({liveSearch:!0})});$(document).on("submit",'form[data-name="ajaxFormUpload"]',function(n){n.preventDefault();var r=new FormData(this),t=$(this),i=t.find("button[type='submit']");i.attr("disabled","true");$.ajax({method:t.attr("method"),url:t.attr("action"),data:r,dataType:"json",contentType:!1,processData:!1,beforeSend:function(){i.append(`<i class="fas fa-sync-alt fa-fw fa-spin"></i>`)},complete:function(){i.find("i").remove()},success:function(n){i.attr("disabled","true");t.find(".field-validation-valid").empty();n.isSuccessed==!0?(localStorage.setItem("IsSuccessed",n.isSuccessed),localStorage.setItem("Message",n.message||"Successed!"),window.location.href=n.resultObj):n.validationErrors!=null&&n.validationErrors.length?($.each(n.validationErrors,function(n,i){t.find("span[data-valmsg-for='"+i.pos+"']").html(i.error)}),toastr.error(n.message)):n.message!=null&&toastr.error(n.message);i.removeAttr("disabled")}})});$(document).on("change",'select[data-name="select-pagesize-ajax"]',function(){$(this).closest(".pagerAjaxPartial").load($(this).val())});$(document).on("click",'a[data-name="pagelink-ajax"]',function(n){n.preventDefault();$(this).closest(".pagerAjaxPartial").load($(this).attr("data-href"))});$('form[data-toggle="form-search-ajax"]').submit(function(n){n.preventDefault();var t=$(this),i=t.attr("data-target");$('div[data-name="'+i+'"]').each(function(n,i){$(i).load($(i).attr("data-url"),t.serialize())})});$(document).on("click",'button[data-toggle="btn-confirm"]',function(n){var t,i,r;n.preventDefault();confirm($(this).attr("data-title"))&&(t=$(this),t.attr("disabled","true"),i="false",typeof t.attr("data-redirect")!="undefined"&&(i=t.attr("data-redirect")),r="false",typeof t.attr("data-reloadpartial")!="undefined"&&(r=t.attr("data-reloadpartial")),$.ajax({url:t.attr("data-href"),method:"POST",beforeSend:function(){t.append(`<i class="fas fa-sync-alt fa-fw fa-spin ms-2"></i>`)},complete:function(){t.find("i").remove()},success:function(n){if(n.isSuccessed==!0)if(r=="true"){var u=t.closest(".asyncPartial");u.load(u.find('input[name="UrlReloadPartial"]').val());toastr.info("Successed!")}else localStorage.setItem("IsSuccessed",n.isSuccessed),n.message?localStorage.setItem("Message",n.message):localStorage.setItem("Message","Successed!"),i=="true"?window.location.href=n.resultObj:window.location.reload();else toastr.error(n.message);t.removeAttr("disabled")}}))});$(".details-modal").length&&document.getElementById("details-modal").addEventListener("hidden.bs.modal",()=>{$("#details-modal .modal-dialog").removeClass().addClass("modal-dialog"),$("#details-modal .modal-body").html("")});$(document).on("click",'a[data-toggle="show-details-modal"]',function(n){n.preventDefault();$("#details-modal .modal-title").html($(this).attr("data-title"));$("#details-modal .modal-body").html($($(this).attr("data-content-id")).html());$("#details-modal").modal("show")});$.fn.classChange=function(n){return $(this).each((t,i)=>{new MutationObserver(t=>{t.forEach(t=>n&&n(t.target,$(t.target).prop(t.attributeName)))}).observe(i,{attributes:!0,attributeFilter:["class"]})})};$(document).on("click",'[data-toggle="input-copy"]',function(n){n.preventDefault();let t=$(this).get(0);t.select();t.setSelectionRange(0,99999);document.execCommand("copy");toastr.success("Copied")});