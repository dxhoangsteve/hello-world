@model UserInfoResponse
@{
    ViewData["Title"] = "Tài khoản";
}

<div class="card shadow h-100">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="m-0 font-weight-bold">@ViewData["Title"]</h3>
    </div>

    <div class="card-body">

        <div class="row mb-2">
            <div class="col-sm-3">
                Username
            </div>
            <div class="col-sm-9">
                @Model.UserName
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-sm-3">
                Họ Tên
            </div>
            <div class="col-sm-9">
                @Model.FirstName
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-sm-3">
                Email
            </div>
            <div class="col-sm-9">
                @Model.Email
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-sm-3">
            </div>
            <div class="col-sm-9">
                <a asp-controller="Account" asp-action="EditProfile" class="btn btn-primary btn-sm">Chỉnh sửa</a>
            </div>
        </div>

        <hr />
        <div class="row mb-2">
            <div class="col-sm-3">
                Mật khẩu
            </div>
            <div class="col-sm-9">
                <a asp-controller="Account" asp-action="ChangePassword">Thay đổi mật khẩu</a>
            </div>
        </div>
        <div class="row mb-2">
            <div class="col-sm-3">
                2FA
            </div>
            <div class="col-sm-9">
                @if (Model.TwoFactor)
                {
                    using (Html.BeginForm("DisableTwoFactorAuthentication", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                    {
                        @Html.AntiForgeryToken()

                        <span class="me-4">Enabled</span>
                        <button type="submit" class="btn btn-danger btn-sm">Disable Now</button>
                    }
                }
                else
                {
                    <span class="me-4">Disabled</span>
                    <a href="@Url.Action("EnableTwoFactorAuthentication", "Account")" class="btn btn-primary btn-sm">Enable Now</a>
                }
            </div>
        </div>
        <hr />
        <div class="row mb-2">
            <div class="col-sm-3">
                API key
            </div>
            <div class="col-sm-9">
                <form asp-action="ResetApiKey" method="post" data-name="ajaxForm">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" value="@Model.ApiKey" readonly data-toggle="input-copy">
                        <button class="btn btn-primary gap-2" type="submit"><i class="far fa-sync"></i> Change API</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(".user-nav").addClass("active");
    </script>
}